# 腕立て伏せ（おそらく）検出トレーニングゲーム

距離センサーを活用した腕立て伏せトレーニングゲームです。QTZ距離センサーによる腕立て伏せ動作の検出と、自動ロック・電気刺激・バイブレーター設備を用いたトレーニングの動機付けと罰則メカニズムを組み合わせています。

口に小さな棒を追加することも可能～新しい遊び方になります= =

[購入リンク](https://item.taobao.com/item.htm?id=964389698138)

## ゲーム概要
### ゲームの目的
+ 設定された時間内に指定された回数の腕立て伏せを完了する
+ 標準的な腕立て伏せの姿勢を維持する
+ 設備からのフィードバックを通じてトレーニング効果と集中力を高める

### ゲームのメカニズム
1. **ゲーム開始**：自動ロック設備がロックされ、タイマーと動作検出が開始される
2. **動作検出**：QTZ距離センサーが体の高さの変化をリアルタイムで監視する
3. **完了判定**：体が設定された距離以下に下がった場合を「下」、設定された距離以上に上がった場合を「起」と判定する
4. **罰則メカニズム**：長時間動作がない場合、強度と持続時間がランダムに決定される電気刺激による罰則が発動する
5. **報酬的妨害**：連続して指定された回数を完了すると、その後の各完了ごとにバイブレーター妨害が発動する確率がある
6. **状態リセット**：罰則を受けた後、連続完了回数はゼロにリセットされ、報酬判定が最初からやり直しになる
7. **ゲーム終了**：目標回数を達成するか、時間が経過すると自動的にロックが解除される

## 設備要件
### 設備構成
| 設備タイプ | 論理ID | 設備名称 | 必須 | 役割 |
| --- | --- | --- | --- | --- |
| QTZ | distance_sensor | QTZ距離センサー | はい | 体の高さの変化を検出し、腕立て伏せ動作を判定する |
| ZIDONGSUO | auto_lock | 自動ロック | いいえ | ゲーム開始時にロックし、完了またはタイムオーバー後にロックを解除する |
| DIANJI | shock_device | 電気刺激設備 | いいえ | 長時間動作がない場合に罰則を実行する |
| TD01 | vibrator_device | バイブレーター設備 | いいえ | 連続して動作を完了した後、ランダムに妨害を行う |

## ゲームパラメータ設定
### 基本パラメータ
| パラメータ名 | タイプ | 範囲 | デフォルト値 | 説明 |
| --- | --- | --- | --- | --- |
| duration | 数字 | 1-240分 | 15分 | ゲームの持続時間 |
| targetCount | 数字 | 1-2000回 | 30回 | 目標の腕立て伏せ完了回数 |
| downThreshold | 数字 | 5-30センチメートル | 15センチメートル | 体がこの距離以下に下がった場合を「下」と判定する |
| upThreshold | 数字 | 20-50センチメートル | 35センチメートル | 体がこの距離以上に上がった場合を「起」と判定する |

### 罰則メカニズムパラメータ
| パラメータ名 | タイプ | 範囲 | デフォルト値 | 説明 |
| --- | --- | --- | --- | --- |
| idleTimeLimit | 数字 | 10-120秒 | 30秒 | この時間以上動作がない場合、罰則が発動する |
| shockIntensity | 数字 | 10-100V | 15V | 電気刺激強度の基本値 |
| shockDuration | 数字 | 1-10秒 | 3秒 | 電気刺激持続時間の基本値 |
| randomIntensityRange | 数字 | 0-50V | 10V | ランダムな電気刺激強度の変動幅（±この値） |
| randomDurationRange | 数字 | 0-5秒 | 1秒 | ランダムな持続時間の変動幅（±この値） |

### 報酬的妨害パラメータ
| パラメータ名 | タイプ | 範囲 | デフォルト値 | 説明 |
| --- | --- | --- | --- | --- |
| rewardTriggerCount | 数字 | 3-20回 | 5回 | 連続完了何回後に報酬発動判定を開始するか |
| rewardTriggerProbability | 数字 | 0-100% | 30% | 発動条件を満たした後、各完了ごとの妨害発動確率 |
| vibratorIntensity | 数字 | 1-255 | 100 | バイブレーター強度 |
| vibratorDuration | 数字 | 5-60秒 | 15秒 | バイブレーターの作動時間 |

## ゲーム画面説明
### メイン画面要素
+ **残り時間**：ゲームの残り時間を表示する
+ **完了進捗**：現在の完了回数/目標回数を表示する
+ **動作状態**：現在の動作段階（下/起）を表示する
+ **ロック状態**：自動ロックの現在の状態を表示する
+ **設備状態**：各設備の作動状態を表示する

## 開発情報
### バージョン履歴
+ v1.0.0：基本機能の実装